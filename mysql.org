MySQL Note

* 中文编码
创建table的时候就使用utf8编码

举个例子：
复制代码

create table entries2 (
        id     int auto_increment, 
        title  text,
        content  text,
        posted_on  datetime,
        primary key (id)   
) character set = utf8;

复制代码

在每次创建表的时候都在最后加上 

　　character set = utf8

就可以很好的支持中文。

from: http://www.cnblogs.com/livingintruth/p/3433259.html
* error 1018 (HY000): Can't read dir of '.' (errno: 13)
$ chown -R mysql:mysql /var/lib/mysql
$ chmod -R 755 /var/lib/mysql

from: http://www.stackoverflow.com/questions/11066411/mysql-error-error-1018-hy000-cant-read-dir-of-errno-13
* emacs sql-mode
** repl
C-Tab 可以打开repl
** 登录
example: 
user: root, 
password: 123123,
database: web,
server: localhost
* 与保留字冲突
在Mysql中，当表名或字段名乃至数据库名和保留字冲突时，
在sql语句里可以用一组反引号（`）括起来。
* function
** 定义
delimiter $$

create function addUser(username char(20),  password char(20))
returns char(20)
begin
  insert User(username,password) values(username, password);
  return (select username from User where id = 1);
end $$

delimiter ;

** 调用
select addUser('aaa', '123321');

* procedure
** 定义
delimiter $$

create procedure addSubject (sname char(20))
modifies sql data
begin
  declare strsql varchar(200);
  set strsql = concat('alter table Report add column ', sname, ' int');
  set @sql1 = strsql;
  prepare stmt_p from @sql1;
  execute stmt_p;
end $$

delimiter ;

** 调用
call addSubject('Physics');

* function 和 procedure 的区别
function 不能修改 table 的属性, 只能修改 table 中存储的数据, 
而procedure 可以修改 table 的属性.
